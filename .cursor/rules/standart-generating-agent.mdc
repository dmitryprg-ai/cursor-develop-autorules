---
alwaysApply: false
---
# Standard Format for Cursor Rules

## Core Structure for Rules Files
```mdc
---
description: `Comprehensive description that provides full context and clearly indicates when this rule should be applied. Include key scenarios, impacted areas, and why following this rule is important. While being thorough, remain focused and relevant. The description should be detailed enough that the agent can confidently determine whether to apply the rule in any given situation.`
globs: *.mdc {OR blank}
alwaysApply: {true or false}
tags: [tag1, tag2] {optional, categorization key words}
priority: 1-5 {optional, 1 is highest priority, 5 is lowest priority}
---

# Rule Title

## Context
- When to apply this rule
- Prerequisites or conditions

## Requirements
- Concise, bulleted list of actionable rules the agent MUST follow
- Each requirement must be testable

## Examples
<example>
Good concise example with explanation
</example>

<example type="invalid">
Invalid concise example with explanation
</example>

## Critical Points
<critical>
  - ALWAYS do X
  - NEVER do Y
  - ENSURE Z
</critical>
```

## Naming Convention
CATEGORY-rule-name-TYPE.mdc where CATEGORY is a number range:
- core: Core standards or ENTRY POINT
- _base: BASE MODULES –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- protocol: PROTOCOLS –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –¥–ª—è —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á
- standard: STANDARDS —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞
- learning: LEARNING rules –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ–±—É—á–µ–Ω–∏—è
- workflows: Workflows
- templates: Templates
- framework: Framework rules
- _[XXX-]rule-name.mdc: Private rules

TYPE ‚Äî –æ–¥–Ω–æ –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö:
- auto: –ø—Ä–∞–≤–∏–ª–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º —Ñ–∞–π–ª–∞–º, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º glob-–ø–∞—Ç—Ç–µ—Ä–Ω—É
- agent: –ø—Ä–∞–≤–∏–ª–æ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∞–≥–µ–Ω—Ç–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø–∏—Å–∞–Ω–∏—è
- manual: –ø—Ä–∞–≤–∏–ª–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é
- always: –ø—Ä–∞–≤–∏–ª–æ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º —á–∞—Ç–µ –∏ cmd/ctrl-k

<required>
  - Use kebab-case (e.g., api-integration.mdc)
  - Choose the most specific category that applies
</required>

## üåç Universality Requirement (CRITICAL)

–ü—Ä–∞–≤–∏–ª–∞ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å **–≤ –ª—é–±–æ–º –ø—Ä–æ–µ–∫—Ç–µ**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ —Ç–µ–∫—É—â–µ–º. –û–¥–∏–Ω –Ω–∞–±–æ—Ä rules –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.

<critical>
  ### –ù–ï –≤–∫–ª—é—á–∞—Ç—å –≤ –ø—Ä–∞–≤–∏–ª–∞:
  - ‚ùå –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã, URL, IP, –∫—Ä–µ–¥—ã ‚Üí –≤—ã–Ω–æ—Å–∏ –≤ `.cursor/.secrets/*`
  - ‚ùå –ù–∞–∑–≤–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞ (`DealsTable`, `BitrixService`) ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π `<ComponentName>`, `<ServiceName>`
  - ‚ùå –ü—Ä–æ–µ–∫—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (`module.types.ts ‚Üí module.service.ts`) ‚Üí –æ–ø–∏—Å—ã–≤–∞–π –æ–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
  - ‚ùå –ü—Ä–æ–µ–∫—Ç–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (`Bitrix24 UF-–ø–æ–ª—è`, `PostgreSQL bigint`) ‚Üí –æ–±–æ–±—â–∞–π –¥–æ "external API", "database types"
  - ‚ùå –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –±–∞–≥–∏/lessons learned –ø—Ä–æ–µ–∫—Ç–∞ ‚Üí –≤—ã–Ω–æ—Å–∏ –≤ `AGENTS.md` –∏–ª–∏ `.cursor_additional/`
  
  ### –í–ö–õ–Æ–ß–ê–¢–¨ –≤ –ø—Ä–∞–≤–∏–ª–∞:
  - ‚úÖ –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã (TDD, JTBD, Cross-check)
  - ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏ (`<url>`, `<user>`, `<ComponentName>`)
  - ‚úÖ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã ("types ‚Üí repository ‚Üí service ‚Üí routes")
  - ‚úÖ –û–±—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∏—Å–∫–æ–≤ ("API structure", "type mismatch")
</critical>

### –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫—É:
| –ß—Ç–æ | –ì–¥–µ |
|-----|-----|
| –°–µ–∫—Ä–µ—Ç—ã (URL, –∫—Ä–µ–¥—ã) | `.cursor/.secrets/*` |
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ | `AGENTS.md` |
| Lessons learned | `.cursor_additional/{project}/improvements-backlog.md` |
| –ü—Ä–æ–µ–∫—Ç–Ω—ã–µ workarounds | `AGENTS.md` ‚Üí "‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã" |

## –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- .cursor/rules: –∏—Å–ø–æ–ª—å–∑—É–π –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –±—É–¥—É—Ç –Ω–∞–º –ø–æ–º–æ–≥–∞—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º
- .cursor/rules_alone: –∏—Å–ø–æ–ª—å–∑—É–π –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π


## Glob Pattern Examples
Common glob patterns for different rule types:
- Core standards: .cursor/rules/*.mdc
- –û–¥–∏–Ω–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: .cursor/rules_alone/*.mdc
- Language rules: *.cs, *.cpp
- Testing standards: *.test.ts, *.test.js
- React components: src/components/**/*.tsx
- Documentation: docs/**/*.md, *.md
- Configuration files: *.config.js
- Build artifacts: dist/**/*
- Multiple extensions: *.js, *.ts, *.tsx
- Multiple patterns: dist/**/*.*, docs/**/*.md, *test*.*

## Formatting Guidelines
- Use Concise Markdown primarily
- XML tags limited to:
  - <example>
  - <danger>
  - <required>
  - <rules>
  - <rule>
  - <critical>
- Always indent content within XML or nested XML tags by 2 spaces
- Keep rules as short as possbile
- Emojis and Mermaid diagrams are allowed and encouraged if it is not redundant and better explains the rule for the AI comprehension
- Keep examples as short as possible to clearly convey the positive or negative example

## Critical Points
- Rule files will be located and named ALWAYS as: `.cursor/rules/{CATEGORY}-rule-name-{auto|agent|manual|always}.mdc`
- Rules will NEVER be created anywhere other than .cursor/rules/* or .cursor/rules_alone/*
- You will always check to see if there is an existing rule to update under .cursor/rules/* or .cursor/rules_alone/*
- FrontMatter Rules Types:
  - The front matter section must always start the file and include all 3 fields, even if the field value will be blank - the types are:
    - Manual Rule: IF a Manual rule is requested - description and globs MUST be blank and alwaysApply: false in folder.cursor/rules_alone/ –∏ –∏–º—è —Ñ–∞–π–ª–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ -manual.mdc
    - Auto Rule: IF a rule is requested that should apply always to certain glob patterns (example all typescript files or all markdown files) - description must be blank, and alwaysApply: false and filename ends with -auto.mdc.
    - Always Rule: Global Rule applies to every chat and cmd/ctrl-k - description and globs blank, and alwaysApply: true  and filename ends with -always.mdc.
    - Agent Select Rule: The rule does not need to be loaded into every chat thread, it serves a specific purpose. The description MUST provide comprehensive context about when to apply the rule, including scenarios like code changes, architecture decisions, bug fixes, or new file creation. Globs blank, and alwaysApply:false and filename ends with -agent.mdc
- For Rule Content - focus on actionable, clear directives without unnecessary explanation
- When a rule will only be used sometimes (alwaysApply: false) the description MUST provide enough context for the AI to confidently determine when to load and apply the rule
- Use Concise Markdown Tailored to Agent Context Window usage
- While there is no strict line limit, be judicious with content length as it impacts performance. Focus on essential information that helps the agent make decisions
- Always include a valid and invalid example
- NEVER use quotes around glob patterns, NEVER group glob extensions with `{}`
- If the request for a rule or a future behavior change includes context of a mistake is made, this would be great to use in the example for the rule
- CRITICAL: Rules must be **UNIVERSAL** ‚Äî no project-specific entities, architectures, or integrations. See "Universality Requirement" section
- CRITICAL: For Agent Select Rules, NEVER leave the description field empty. ALWAYS provide a properly formatted description using the ACTION-TRIGGER-OUTCOME format. An empty or incorrectly formatted description will prevent proper rule activation.
- ALWAYS verify that the description field has been properly updated by checking the file after creation or modification
- After rule is created or updated, Respond with the following:
  - Rule {Created or Updated}: path/rule-name.mdc
  - Rule Type: {Rule Type}
  - Rule Description: {The exact content of the description field}