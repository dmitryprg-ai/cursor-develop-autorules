---
description: "–í–°–ï–ì–î–ê –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫–∞–∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ –¥–ª—è AI –∞–≥–µ–Ω—Ç–∞. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞—á–∏, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∫ –Ω—É–∂–Ω–æ–º—É –ø—Ä–æ—Ç–æ–∫–æ–ª—É, —Ç—Ä–µ–±—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π DONE –±–ª–æ–∫ –≤ –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞. –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞."
globs: 
alwaysApply: true
---

# üéØ MASTER PROTOCOL v3.1

## Context

- **–ö–æ–≥–¥–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –ö–ê–ñ–î–û–ì–û –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–†–æ–ª—å:** –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π entry point, —Ä–æ—É—Ç–µ—Ä –∫–æ –≤—Å–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç —Å DONE –±–ª–æ–∫–æ–º

<critical>
  - –ü–†–ê–í–ò–õ–û #1: –ü—Ä–æ—á–∏—Ç–∞–π –í–°–Æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ü–ï–†–ï–î –æ—Ç–≤–µ—Ç–æ–º
  - –ü–†–ê–í–ò–õ–û #2: –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –î–û–õ–ñ–ï–ù —Å–æ–¥–µ—Ä–∂–∞—Ç—å RESPONSE FORMAT
  - –ü–†–ê–í–ò–õ–û #3: –ù–ï –ü–†–û–ü–£–°–ö–ê–ô —à–∞–≥–∏ ‚Äî –µ—Å–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏–ª, –°–¢–û–ü –∏ –≤–µ—Ä–Ω–∏—Å—å
  - –ü–†–ê–í–ò–õ–û #4: –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –Ω–∞–ø–∏—à–∏ –∫–æ—Ä–æ—Ç–∫–æ –∫–∞–∫–æ–π output —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª –æ—Ç —ç—Ç–æ–≥–æ —à–∞–≥–∞ –∫–∞–∫ —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ç—ã –µ–≥–æ –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏–ª
</critical>

---

## Requirements

### –®–ê–ì 0: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –æ—Ç–≤–µ—Ç–∞ ‚Äî –í–°–ï–ì–î–ê:
```
**–°–ª–æ–∂–Ω–æ—Å—Ç—å: üü¢ SIMPLE** ‚Äî [–ø—Ä–∏—á–∏–Ω–∞]
```

| –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ü—Ä–∏–∑–Ω–∞–∫–∏ | –î–µ–π—Å—Ç–≤–∏–µ |
|-----------|----------|----------|
| üü¢ SIMPLE | 1-2 —Ñ–∞–π–ª–∞, typo, —Å—Ç–∏–ª—å | –í—ã–ø–æ–ª–Ω–∏—Ç—å ‚Üí Linter ‚Üí –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç—á—ë—Ç |
| üü° STANDARD | –ù–æ–≤–∞—è —Ñ–∏—á–∞, –±–∞–≥, –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ | –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª |
| üî¥ COMPLEX | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –º–∏–≥—Ä–∞—Ü–∏—è, –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª + CTO Review |

### –®–ê–ì 1: –ü–ª–∞–Ω (–¥–ª—è STANDARD/COMPLEX)

<required>
  - –ü–ï–†–ï–î –∫–æ–¥–æ–º –≤—ã–ø–∏—Å–∞—Ç—å –ø–ª–∞–Ω
  - –ë–µ–∑ –ø–ª–∞–Ω–∞ –ù–ï –Ω–∞—á–∏–Ω–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
  - –û–ø—Ä–µ–¥–µ–ª–∏ —Ç–∏–ø –∑–∞–¥–∞—á–∏ –∏ –≤—ã–±–µ—Ä–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–∞–±–ª–∏—Ü–µ Routing Table
  - –ü–ª–∞–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –∑–∞–≤–∏–º–∏–æ—Å—Ç–∏ –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏ –≤ Routing Table
  - –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –ø—Ä–∏ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –ø–ª–∞–Ω–∞ - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
</required>

```markdown
## üìã –ü–õ–ê–ù
**–ó–∞–¥–∞—á–∞:** [—Ç–∏–ø –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ –ø–æ —Ç–∞–±–ª–∏—Ü–µ Routing Table]
**–ü—Ä–æ—Ç–æ–∫–æ–ª:** [–∫–∞–∫–æ–π –≤—ã–±—Ä–∞–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª –≤ —Ç–∞–±–ª–∏—Ü–µ Routing Table]
**–¶–µ–ª—å:** [–æ–¥–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ]
**–§–∞–π–ª—ã:** [–∫–∞–∫–∏–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã]
**–†–∏—Å–∫:** [—á—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫]
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** [–∫–∞–∫ —É–∑–Ω–∞—Ç—å —á—Ç–æ –≥–æ—Ç–æ–≤–æ]
```

### –®–ê–ì 2: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

<required>
  - –ú–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ ‚Äî –æ–¥–∏–Ω —Ñ–∞–π–ª –∑–∞ —Ä–∞–∑
  - –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Äî –ø—Ä–æ–≤–µ—Ä—å linter
  - –°–æ–∑–¥–∞–ª —Ñ–∞–π–ª ‚Äî –û–¢–ö–†–û–ô –∏ –ø—Ä–æ—á–∏—Ç–∞–π
  - –ò–∑–º–µ–Ω–∏–ª —Ñ–∞–π–ª ‚Äî –û–¢–ö–†–û–ô –∏ –ø—Ä–æ–≤–µ—Ä—å
</required>

### –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ–¥ "–≥–æ—Ç–æ–≤–æ")

**Cross-check:**
```markdown
| –§–∞–π–ª | –û—Ç–∫—Ä—ã—Ç | –ü—Ä–æ–≤–µ—Ä–µ–Ω |
|------|--------|----------|
| [–ø—É—Ç—å] | ‚úÖ/‚ùå | ‚úÖ/‚ùå |
```

**Challenge (4 –≤–æ–ø—Ä–æ—Å–∞):**
```
1. –ö–∞–∫ –æ–ø—Ä–æ–≤–µ—Ä–≥–Ω—É—Ç—å? ‚Üí [–æ—Ç–≤–µ—Ç]
2. –í—Å–µ —Ñ–∞–π–ª—ã –æ—Ç–∫—Ä—ã–ª? ‚Üí [–î–ê/–ù–ï–¢]
3. Edge cases? ‚Üí [–∫–∞–∫–∏–µ]
4. Job —Ä–µ—à—ë–Ω? ‚Üí [–î–ê/–ù–ï–¢]
```

**Linter:** `Linter errors: 0 / [—á–∏—Å–ª–æ]`

### –®–ê–ì 4: –û—Ç—á—ë—Ç (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

<required>
  - –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –ó–ê–ö–ê–ù–ß–ò–í–ê–ï–¢–°–Ø DONE –±–ª–æ–∫–æ–º
  - –ë–µ–∑ DONE –±–ª–æ–∫–∞ –æ—Ç–≤–µ—Ç –ù–ï –ó–ê–í–ï–†–®–Å–ù
</required>

```markdown
---
## ‚úÖ DONE
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¢/üü°/üî¥
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:** [—Å–ø–∏—Å–æ–∫]
**–ü—Ä–æ–≤–µ—Ä–∫–∏:** Cross-check ‚úÖ | Challenge ‚úÖ | Linter ‚úÖ
**–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å:** [X]% ‚Äî [–ø–æ—á–µ–º—É]
---
```

**–§–æ—Ä–º—É–ª–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏:** 100% –º–∏–Ω—É—Å: –∫–æ–¥ –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª (-50%), —Ñ–∞–π–ª—ã –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–ª (-40%), cross-check –Ω–µ –¥–µ–ª–∞–ª (-30%)

---

## Routing Table

| –ó–∞–¥–∞—á–∞ | –ü—Ä–æ—Ç–æ–∫–æ–ª |
|--------|----------|
| –ù–æ–≤–∞—è —Ñ–∏—á–∞ –∏–ª–∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞ | `protocol-development.mdc` |
| –ë–∞–≥/–æ—à–∏–±–∫–∞ | `protocol-bugfix.mdc` |
| –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ | `protocol-refactoring.mdc` |
| –î–∞–Ω–Ω—ã–µ/–∞–Ω–∞–ª–∏–∑ | `protocol-research.mdc` |
| –ó–∞–≤–∏—Å–∞–Ω–∏–µ AI | `protocol-freeze-recovery.mdc` |

---

## Examples

<example>
GOOD: –û—Ç–≤–µ—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
```
**–°–ª–æ–∂–Ω–æ—Å—Ç—å: üü° STANDARD** ‚Äî –Ω–æ–≤–∞—è —Ñ–∏—á–∞, –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç 3 —Ñ–∞–π–ª–∞

## üìã –ü–õ–ê–ù
**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ
...
```
</example>

<example type="invalid">
BAD: –û—Ç–≤–µ—Ç –±–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –ø–ª–∞–Ω–∞
```
–°–µ–π—á–∞—Å –¥–æ–±–∞–≤–ª—é —Ñ–∏–ª—å—Ç—Ä. –û—Ç–∫—Ä—ã–≤–∞—é —Ñ–∞–π–ª...
```
–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –Ω–µ—Ç –ø–ª–∞–Ω–∞, —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
</example>

---

## Critical Points

<critical>
  - –í–°–ï–ì–î–ê –Ω–∞—á–∏–Ω–∞–π —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  - –û–¢–ö–†–´–í–ê–ô —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è
  - –ù–ï –≥–æ–≤–æ—Ä–∏ "–≥–æ—Ç–æ–≤–æ" –±–µ–∑ Cross-check
  - –ù–ï –∏–≥–Ω–æ—Ä–∏—Ä—É–π –æ—à–∏–±–∫–∏
  - –ö–ê–ñ–î–´–ô –æ—Ç–≤–µ—Ç = DONE –±–ª–æ–∫ –≤ –∫–æ–Ω—Ü–µ
</critical>

**–ó–ê–ü–†–ï–©–ï–ù–û:**
- ‚ùå –§–∞–π–ª—ã —Å `_fixed`, `_final`, `_v2`
- ‚ùå "–ì–æ—Ç–æ–≤–æ" –±–µ–∑ –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤
- ‚ùå –ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

---

## Additional Modules

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —á–∏—Ç–∞–π:
- `_base-rat.mdc` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∏—Å–∫–æ–≤ –î–û —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- `_base-jtbd-thinking.mdc` ‚Äî –¥–ª—è user-facing —Ñ–∏—á
- `standard-cto-review.mdc` ‚Äî –¥–ª—è COMPLEX –∑–∞–¥–∞—á
- `error-learning.mdc` ‚Äî –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫

---

**–í–µ—Ä—Å–∏—è:** 3.1
**–ü—Ä–∏–Ω—Ü–∏–ø:** –ö—Ä–∞—Ç–∫–æ—Å—Ç—å + –ü—Ä–∏–Ω—É–∂–¥–µ–Ω–∏–µ + Checkpoints
