---
description: Root Cause Analysis standard ‚Äî 5 Whys –∏ 5W+H –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è
alwaysApply: false
---
# üéØ STANDARD: ROOT CAUSE ANALYSIS (RCA)

> **–ë–∞–∑–æ–≤—ã–µ –º–æ–¥—É–ª–∏:** `_base-5wh.mdc`
> **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `protocol-bugfix.mdc`, `protocol-freeze-recovery.mdc`

---

## 1. WHEN TO APPLY RCA

| –°–∏—Ç—É–∞—Ü–∏—è | –ü—Ä–∏–º–µ–Ω—è—Ç—å? |
|----------|-----------|
| –ü–æ—Å–ª–µ –õ–Æ–ë–û–ô –æ—à–∏–±–∫–∏ | ‚úÖ –î–ê |
| –û–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –æ—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è | ‚úÖ –î–ê (–≥–ª—É–±–∂–µ!) |
| Fix –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –î–ê |
| –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å < 80% | ‚úÖ –î–ê |
| –ü–æ—Å–ª–µ 2+ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ | ‚úÖ –î–ê |
| –ü—Ä–∏ –∑–∞–≤–∏—Å–∞–Ω–∏–∏ | ‚úÖ –î–ê |

---

## 2. THE 5 WHYS METHOD

### –ü—Ä–∏–Ω—Ü–∏–ø:
–°–ø—Ä–∞—à–∏–≤–∞–π "–ü–æ—á–µ–º—É?" –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥—ë—à—å –∫–æ—Ä–Ω–µ–≤—É—é –ø—Ä–∏—á–∏–Ω—É (–æ–±—ã—á–Ω–æ 5 —Ä–∞–∑).

### Template:

```markdown
## üîç 5 WHYS ANALYSIS

### Problem: [–û–ø–∏—Å–∞–Ω–∏–µ —Å–∏–º–ø—Ç–æ–º–∞]

**Why 1:** [–ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç ‚Äî –æ–±—ã—á–Ω–æ —Å–∏–º–ø—Ç–æ–º]
‚Üì
**Why 2:** [–ö–æ–ø–∞–µ–º –≥–ª—É–±–∂–µ]
‚Üì
**Why 3:** [–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º]
‚Üì
**Why 4:** [–ü—Ä–∏–±–ª–∏–∂–∞–µ–º—Å—è –∫ –ø—Ä–∏—á–∏–Ω–µ]
‚Üì
**Why 5:** [ROOT CAUSE]

### üéØ Root Cause:
[–ß—ë—Ç–∫–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –∫–æ—Ä–Ω–µ–≤–æ–π –ø—Ä–∏—á–∏–Ω—ã]

### üîß Fix:
[–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è ROOT CAUSE]
```

### Example:

```markdown
### Problem: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500 error

**Why 1:** Endpoint –±—Ä–æ—Å–∞–µ—Ç exception
‚Üì
**Why 2:** Database query –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
‚Üì
**Why 3:** Connection pool –∏—Å—á–µ—Ä–ø–∞–Ω
‚Üì
**Why 4:** Connections –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚Üì
**Why 5:** –ù–µ—Ç `finally` –±–ª–æ–∫–∞ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è connection

### üéØ Root Cause:
–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç cleanup connection –≤ try/catch –±–ª–æ–∫–µ

### üîß Fix:
–î–æ–±–∞–≤–∏—Ç—å `finally { connection.close() }` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å try-with-resources
```

---

## 3. THE 5W+H FRAMEWORK

### –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–±–ª–µ–º—ã:

–°–º. –¥–µ—Ç–∞–ª–∏ –≤ `_base-5wh.mdc`

| Question | Answer |
|----------|--------|
| **What** | –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ? –°–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏? |
| **When** | –ö–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ—à–ª–æ? –ß—Ç–æ —Ç—Ä–∏–≥–≥–µ—Ä–Ω—É–ª–æ? |
| **Where** | –ì–¥–µ –≤ –∫–æ–¥–µ? –§–∞–π–ª, —Å—Ç—Ä–æ–∫–∞, —Ñ—É–Ω–∫—Ü–∏—è? |
| **Who** | –ö—Ç–æ/—á—Ç–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç–æ? –ö–∞–∫–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç? |
| **Why** | –ü–æ—á–µ–º—É –ø—Ä–æ–∏–∑–æ—à–ª–æ? (–∏—Å–ø–æ–ª—å–∑—É–π 5 Whys) |
| **How** | –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å? –ö–∞–∫ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å? |

---

## 4. RCA REPORT TEMPLATE

```markdown
## üîç ROOT CAUSE ANALYSIS REPORT

### Symptom
- What happened: [–æ–ø–∏—Å–∞–Ω–∏–µ]
- Error message: [—Ç–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç]
- When: [timestamp/trigger]
- Where: [file:line or component]

### 5 Whys Analysis
1. Why: [answer]
2. Why: [answer]
3. Why: [answer]
4. Why: [answer]
5. Why: [ROOT CAUSE]

### 5W+H Summary
- **What:** [symptom]
- **When:** [timing]
- **Where:** [location]
- **Who:** [affected component]
- **Why:** [root cause]
- **How:** [fix approach]

### Root Cause
[–ß—ë—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–π –ø—Ä–∏—á–∏–Ω—ã]

### Fix
```[language]
// –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞
```

### Verification
- [ ] Fix applied
- [ ] Error no longer occurs
- [ ] No regression introduced
- [ ] Similar patterns checked elsewhere

### Prevention
- [ ] Test case added
- [ ] Documentation updated
- [ ] Logging/monitoring added
```

---

## 5. DESIGN INJECTION POINTS

### –ù–∞–π–¥–∏ –≥–¥–µ AI reasoning –ø–æ—à—ë–ª –Ω–µ —Ç—É–¥–∞:

```markdown
## üéØ DESIGN INJECTION ANALYSIS

### Chain of Reasoning
1. [Step 1 –º–æ–µ–≥–æ –º—ã—à–ª–µ–Ω–∏—è]
2. [Step 2] ‚Üê üö® WRONG TURN HERE
3. [Step 3 –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è]

### What I Missed
- Did not check: [—á—Ç–æ]
- Did not read: [file/documentation]
- Assumed without verifying: [–ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ]

### What Guidance Was Missing
- Need: [–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è/–ø—Ä–∞–≤–∏–ª–æ]
- Location: [–≥–¥–µ –¥–æ–±–∞–≤–∏—Ç—å]
- Format: [–∫–∞–∫ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å]

### Proposed AI Guidance
```
[–ù–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏–ª–æ –±—ã —ç—Ç—É –æ—à–∏–±–∫—É]
```
```

---

## 6. COMMON ROOT CAUSES

| Symptom | Common Root Cause |
|---------|-------------------|
| Import error | Wrong path, missing dependency |
| Type error | Wrong assumption about data structure |
| 500 error | Unhandled exception, missing validation |
| Timeout | Infinite loop, unoptimized query |
| Wrong output | Logic error, wrong variable |
| Freeze | Blocking operation, deadlock |
| Memory error | Loading too much data at once |
| Permission error | Wrong file/folder permissions |

---

## 7. RCA QUALITY CHECKLIST

```markdown
## ‚úÖ RCA QUALITY CHECKLIST

- [ ] –ù–∞–π–¥–µ–Ω ACTUAL root cause, –Ω–µ —Ç–æ–ª—å–∫–æ symptom?
- [ ] –ú–æ–≥—É –æ–±—ä—è—Å–Ω–∏—Ç—å –ü–û–ß–ï–ú–£ –æ—à–∏–±–∫–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞?
- [ ] Fix –∞–¥—Ä–µ—Å—É–µ—Ç root cause, –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–∫—Ä—ã–≤–∞–µ—Ç –µ–≥–æ?
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª –ø–æ—Ö–æ–∂–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö?
- [ ] –î–æ–±–∞–≤–∏–ª prevention measures?
- [ ] –ó–∞–ø–∏—Å–∞–ª –≤ error-learning.mdc?
```

---

## 8. ANTI-PATTERNS

### ‚ùå DO NOT:
- Fix symptoms –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è cause
- Assume "—Ç–µ–ø–µ—Ä—å –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç" –±–µ–∑ —Ç–µ—Å—Ç–∞
- Skip RCA –ø–æ—Ç–æ–º—É —á—Ç–æ "—è –∑–Ω–∞—é –≤ —á—ë–º –ø—Ä–æ–±–ª–µ–º–∞"
- Apply workarounds –≤–º–µ—Å—Ç–æ real fixes
- Ignore –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –æ—à–∏–±–∫–∏

### ‚úÖ DO:
- –°–ø—Ä–æ—Å–∏ "–ü–æ—á–µ–º—É?" –º–∏–Ω–∏–º—É–º 3 —Ä–∞–∑–∞
- Document –∫–∞–∂–¥—ã–π RCA –¥–ª—è –±—É–¥—É—â–µ–≥–æ
- Test fix –ø–µ—Ä–µ–¥ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º success
- –ò—â–∏ patterns –≤ –ø–æ—Ö–æ–∂–µ–º –∫–æ–¥–µ
- –î–æ–±–∞–≤–ª—è–π safeguards –ø—Ä–æ—Ç–∏–≤ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è

---
**–í–µ—Ä—Å–∏—è:** 1.0
**–°–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏:** `_base-5wh.mdc`, `protocol-bugfix.mdc`, `error-learning.mdc`
